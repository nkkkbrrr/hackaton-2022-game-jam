# Разработка мобильной 3D игры по открытию и изучению новых форм жизни на далеких планетах

### Идея игры.
Далекие планеты ассоциируются с будущим, поэтому главным персонажем моей игры является робот. Для изучения форм жизни он будет использует фотоаппарат. На далеких планетах может быть темно, поэтому, для ориентации в пространстве, робот будет использовать фонарик. Таким образом он будет искать формы жизни, которые будут разбегаться от него. По задумке, в игре должны быть кролики, которые будут прятаться в норы, животные средних размеров, которые будут прятаться в кусты, а животные побольше нападать на игрока.

### Реализация.
Ранее я уже создавал приложения для iOS, изучил основы создания 3d моделей в Blender, а так же создал один 2d платформер в Unity. В этой работе я хотел не только объединить все полученные знания, но и изучить новый фреймворк для языка Swift, который может пригодиться мне в будущем - SceneKit. 
Моим решением было создать 3d игру с использованием 2d персонажей (как например в Don’t Starve). В отличие от упомянутой игры, я хотел использовать и 3d объекты (такие как кусты например), которые будут являться препятствиями для света фонаря главного персонажа. 

### Главные трудности.
Мной были возведены слишком большие требования. В прототипе не были реализованы даже NPC. Главной проблемой стало нехватка знаний по использованию фреймворка, с которым я ранее не работал. Еще одной проблемой являлась нехватка документации, поскольку  она уже очень не обновлялась, в отличие от самого языка, который потерпел множество изменений. Разбираться пришлось по большей части интуитивно

### Итоговый результат.
Я нарисовал наброски ракеты и главного персонажа, создал 3d модели кустов, добавил управление, настроил окружающую среду, добавил магазин для улучшения робота. Если подойти к ракете, то появится меню, которое предложит отправиться в путешествие.

### Что не было реализовано.
Сам мир по себе очень примитивный и ограниченный, никаких форм жизни создано не было, хотя их создание было одной из главных задач. Однако мне было очень интересно подумать над идеей для игры и познакомиться с новым фреймворком. Для меня это был бесценный опыт. 

### .
### .
### .
### .
### .

# Обновлено _(описание)_

Самостоятельно очень тяжело определить сложность и завершенность прототипа, поскольку он является моим первым Game Jam'ом. В любом случае я решил довести дело до конца, и, для удобства его оценки, я выложил реализованный прототип приложения в TestFlight. Он доступен для скачивания. Работает он на устройствах: iPhone, iPad в горизонтальной и вертикальной ориентации.

![qr](https://user-images.githubusercontent.com/39243262/176825222-dcc406af-e888-4a07-b9b5-709d21b11857.jpg)

Работа выполнялась в следующем порядке:
+ ***День 1.*** Проработка идеи, выбор средств разработки, создание набросков персонажа к игре. Первоначальная настройка средств разработки. 
+ ***День 2.*** Ознакомление с новым фреймворком SceneKit, а так же его интеграция в приложение. Настройка сцены, создание персонажа, а так же написание контроллера для его перевдвижения. Добавление освещения и его настройка (отображения луча света с углом поворота в сторону, в которую смотрит персонаж)
+ ***День 3.*** Добавление анимации передвижения персонажа, создание главного меню, меню настройки, карты

# День 1

Я принял решение назвать приложение «AstroPics». Название получилось в результате соединения двух слов: Astro (сокращенно от astronomy), поскольку приложение связано с космосом, а так же Pics (сокращенно от pictures), так как главная задача (должна была быть) — фотографировать различных существ. 

Все иллюстрации я создал самостоятельно в виде ***наброска***. Всего их было создано 7 штук:

+ робот, а так же два кадра для анимации ходьбы
+ ракета
+ 3 планеты

Все иллюстрации представлены ниже:

![art](https://user-images.githubusercontent.com/39243262/176825208-25b96e9b-766a-4417-8455-cf0e5adc10e3.jpg)

# День 2

На второй день я создал сцену, на которой должны происходить основные игровые события. Туда же я добавил кусты, освещение и ракету. После я добавил распознавание жеста "перетаскивание" (Drag Gesture), с помощью которого управлять персонажем можно из любой точки экрана. С помощью этого жеста можно вычислить угол движения персонажа. Относительно этого угла вращается свет, исходящий от фонаря персонажа. Так же я добавил персонажу 3d форму, из-за которой, он не может проходить сквозь предметы (например сквозь ракету). Более подробно можно рассмотреть ситуацию с помощью gif изображения ниже:

![game](https://user-images.githubusercontent.com/39243262/176823976-5af2ebd8-512d-463f-baac-7bd2149100ca.gif)

# День 3

В последний день я добавил в прототип все основные элементы меню, а так же анимировал ходьбу персонажа (анимацию можно увидеть на gif изображении выше).
При создании таких экранов как "Настройки" или "Магазин" было необходимо где-то храниить данные. В идеале нужно было создать базу данных, однако из-за ограниченности во времени, я принял решение использовать обертку свойств @AppStorage, которая позволяет сохранять ***переменные*** в памяти устройства. Так же я добавил возможность включить просмотр отладки в настройках, так как версия является лишь прототипом и такая функция могла бы быть гипотетически полезна тестировщикам. В релизе ее можно убрать. Ниже представлены скриншоты всех экранов, а так же добавлены два изображения в gif формате, которые показывают как отображаются разные экраны в разных ориентациях устройства: вертикальной и горизонтальной. На последнем показано отображение отладки, включенной в настройках, а так же запечатлен мир в случае, если в магазине было куплено и включено ночное зрение.

![other screens](https://user-images.githubusercontent.com/39243262/176827641-30a1817c-acb2-4813-a76b-0cb6d9e00a7e.jpg)

Работа прототипа при смене ориентации устройства с вертикальной на горизонтальную:

![map rotate](https://user-images.githubusercontent.com/39243262/176829822-30da6752-4ec7-4f3a-b1d6-2ad43aa00551.gif)
![game-rotate](https://user-images.githubusercontent.com/39243262/176829835-090c62ed-9f00-4cd8-996a-cc37deb2fa89.gif)

В прототипе можно так же заметить кнопку "сделать снимок", однако она не имеет никакого функционала
